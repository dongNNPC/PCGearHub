<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
	th:replace="~{/layouts/layout :: dynamic(~{::body})}">

<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
</head>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" th:href="@{/assets/css/bootstrap.min.css}">

<body>
	<link rel="stylesheet" th:href="@{https://fonts.googleapis.com/icon?family=Material+Icons}">
	<link rel="stylesheet" th:href="@{/admin/css/modal.css}">
	<link th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css}" rel="stylesheet" />
	<div class="container" ng-app="myApp" style="margin-left: 300px; margin-bottom: 400px; margin-top: 100px;">
		<div class="main-body" ng-controller="loadForm">
			<div class="page-header">
				<h3 class="page-title">Chỉnh sửa người dùng:</h3>
				<nav aria-label="breadcrumb"> </nav>
			</div>
			<div class="row">


				<div class="col-lg-2">
					<div class="card">
						<div class="card-body">
							<h4 class="card-title">Ảnh đại diện</h4>
							<hr style="background-color: white;">
							<div class="square-img-container">
								<label for="" ng-repeat="filename in filenames"
									title="Double click to detete">
									<div class="square-img">
										<img ng-src="{{url(filename)}}"
											ng-click="download(filename)"
											ng-dblclick="delete(filename)"
											alt="">
									</div>
								</label>
							</div>
							<div class="form-group mt-3" style="max-width: 304px">
								<div class="input-group col-xs-12">
									<input type="file" accept="image/*"
										ng-model="user.image"
										onchange="angular.element(this).scope().upload(this.files)">
									<span
										class="input-group-append"></span>
								</div>
							</div>

						</div>
					</div>
				</div>


				<div class="col-lg-7">
					<div class="card">
						<div class="card-body">

							<form class="forms-sample" >
								<div class="form-group row"
								ng-if="id">> <label
										for="exampleInputUsername2"
										class="col-sm-3 col-form-label">Mã
										tài khoản</label>

									<div class="col-sm-9"> <input
											type="text"
											class="form-control"
											ng-model="user.id"
											id="exampleInputUsername2"
											placeholder="Tên tài khoản">

									</div>
								</div>

								<div class="form-group row"> <label
										for="exampleInputUsername2"
										class="col-sm-3 col-form-label">Họ
										và tên</label>
									<div class="col-sm-9"> <input
											type="text"
											class="form-control"
											ng-model="user.name"
											id="exampleInputUsername2"
											placeholder="Họ và tên">
									</div>
								</div>
								<div class="form-group row" ng-if="mathkau">
									<label for="exampleInputUsername2"
										class="col-sm-3 col-form-label">Mật
										khẩu</label>
									<div class="col-sm-9"> <input
											type="text"
											class="form-control"
											ng-model="user.password"
											id="exampleInputUsername2"
											placeholder="Mật khẩu">
									</div>
								</div>
								<div class="form-group row"> <label
										for="exampleInputEmail2"
										class="col-sm-3 col-form-label">Email</label>
									<div class="col-sm-9"> <input
											type="email"
											class="form-control"
											ng-model="user.email"
											id="exampleInputEmail2"
											placeholder="Email">
										<p class="error-message"
											style="color: red;">
											{{errorMessageEmail}}
										</p>
									</div>
								</div>
								<div class="form-group row"> <label
										for="exampleInputMobile"
										class="col-sm-3 col-form-label">Số
										điện thoại</label>
									<div class="col-sm-9"> <input
											type="text"
											class="form-control"
											ng-model="user.phone"
											id="exampleInputMobile"
											placeholder="Số điện thoại">
									</div>
								</div>
								<div class="form-group row"> <label
										for="exampleInputMobile"
										class="col-sm-3 col-form-label">Địa
										chỉ</label>
									<div class="col-sm-9"> <input
											type="text"
											class="form-control"
											ng-model="user.address"
											id="exampleInputMobile"
											placeholder="Địa chỉ">
									</div>
								</div>
								<div class="row form-group"
									ng-if="showRoleSection"> <label
										for="exampleInputMobile"
										class="col-sm-3 col-form-label">Chức
										vụ</label>
									<div class="form-check col-lg-4 ms-2">
										<label
											class="form-check-label">
											<input type="radio"
												class="form-check-input"
												name="admin"
												ng-model="user.admin"
												ng-value="true"
												id="admin_true">
											Admin </label>
									</div>
									<div class="form-check col-lg-4">
										<label
											class="form-check-label">
											<input type="radio"
												class="form-check-input"
												name="admin"
												ng-model="user.admin"
												ng-value="false"
												id="admin_false">
											User </label>
									</div>
								</div>
								<div class="row form-group"
									ng-if="showActivitySection"> <label
										for="exampleInputMobile"
										class="col-sm-3 col-form-label">Hoạt
										động</label>
									<div class="form-check col-lg-4 ms-2">
										<label
											class="form-check-label">
											<input type="radio"
												class="form-check-input"
												name="status"
												ng-model="user.status"
												ng-value="true"
												id="status_true">
											Còn hoạt động
										</label>
									</div>
									<div class="form-check col-lg-4">
										<label
											class="form-check-label">
											<input type="radio"
												class="form-check-input"
												name="status"
												ng-model="user.status"
												ng-value="false"
												id="status_false">
											Ngừng hoạt động
										</label>
									</div>
								</div>
								<div class="row form-group"
									ng-if="showConfirmationSection"> <label
										for="exampleInputMobile"
										class="col-sm-3 col-form-label">Xác
										nhận</label>
									<div class="form-check col-lg-4 ms-2">
										<label
											class="form-check-label">
											<input type="radio"
												class="form-check-input"
												name="optionsRadio2"
												id="check"
												ng-value="true"
												ng-model="user.confirm">
											Đã xác nhận </label>
									</div>
									<div class="form-check col-lg-4 ">
										<label
											class="form-check-label">
											<input type="radio"
												class="form-check-input"
												name="optionsRadios2"
												id="check"
												ng-value="false"
												ng-model="user.confirm">
											Chưa xác nhận
										</label>
									</div>
								</div>
								<hr style="background-color: white;">
								<button ng-click="update()" type="submit"
									class="btn btn-success mr-2">Sửa</button>

								<button ng-click="reset()"
									class="btn btn-dark">Làm mới</button>
							</form>
						</div>
					</div>
				</div>
			</div>


			<!-- Thông báo thành công -->
			<div class="modal" id="successModal" tabindex="-1" role="dialog" data-backdrop="false">
				<div class="modal-dialog" role="document">
					<div class="modal-content" style="background-color: #28a745">
						<div class="modal-body">{{ successMessage }}</div>
					</div>
				</div>
			</div>

			<!-- Hiển thị thông báo thành công -->
			<div class="success-message-container" ng-show="showSuccessMessage">
				<div class="alert alert-success" role="alert">
					{{ successMessage }}
				</div>
			</div>


			<!-- Rest of your HTML code remains unchanged -->


		</div>
	</div>

	<script th:src="@{https://code.jquery.com/jquery-1.10.2.min.js}"></script>
	<script th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js}"></script>

	</script>
	<script th:inline="javascript" th:src="@{/admin/js/typeahead.js}"></script>
	<script th:inline="javascript" th:src="@{/admin/js/select2.js}"></script> <!-- angular -->
	<script
	th:src="@{https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js}"></script>
	<script th:inline="javascript" th:src="@{/assets/js/profile.js}"></script>
</body>

</html>